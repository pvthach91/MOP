<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" lang="en">
<head>
<title>选择发送消息的客户</title>
<link href="/css/BrianCss.css" rel="stylesheet" type="text/css" />
<link href="/css/news.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
	function searchFinish(data){
		if(data){
			alert("失败："+data);
		}
	}
	function closewin(){
		ownerDialog.close();
	}
	function selOpt(sln){
		parent.userInput(sln);
		closewin();
	}
</script>
</head>
<body style="background:#FFFFFF">
	<f:view>
		<h:form id="userSelForm">
			<a4j:region>
			<table style="height: 65px; width: 100%;font-size:13px;font-family:'微软雅黑';background:#f0f6fe;border:1px solid #bdcde3;color:#444444;">
				<tr>
					<td style="padding-left:15px;">
						登录名：
						<h:inputText value="#{PersonMsgUserBean.loginname}" styleClass="input_Game" style="width:100px"/>
					</td>
					<td>
						会员类别：
						<h:selectOneMenu styleClass="select_Game" value="#{PersonMsgUserBean.usertype}">
							<f:selectItem itemValue="0" itemLabel="直属会员"></f:selectItem>
							<f:selectItem itemValue="1" itemLabel="全部会员"></f:selectItem>
						</h:selectOneMenu>
					</td>
					<td>
						<a4j:commandButton value="查 询" status="normalStatus"
										styleClass="bntclass" action="#{PersonMsgUserBean.btnSearch}" data="#{PersonMsgUserBean.msg}"
										oncomplete="searchFinish(data)" reRender="pgData"/>
					</td>
				</tr>
			</table>
			</a4j:region>
			<h:panelGroup id="pgData">
			<table cellpadding="0" cellspacing="0" border="0" class="tableclass" style="margin-top:5px;width:100%;">
								<tr class="fillet_table_tr">
									<td style="height: 35px;" align="center"><b>序号</b></td>
									<td align="center"><b>登录名</b></td>
									<td align="center"><b>昵称</b></td>
									<td align="center"><b>选择</b></td>
								</tr>
				<a4j:repeat value="#{PersonMsgUserBean.reslist}" var="list" rowKeyVar="keys">
									<tr style="background:#{keys%2==1?'#EEEEDD':'#FFFFFF'}">
										<td style="height: 28px;" align="center">#{keys+1}</td>
										<td align="center">#{list.loginname}</td>
										<td align="center">#{list.nickname}</td>
										<td align="center">
											<input type="button" onclick="selOpt('#{list.loginname}');"
											class="but_Game_Operating" />
										</td>
									</tr>
				</a4j:repeat>
			</table>
			<div style="background:#DDDDDD;height:35px;line-height:30px;width:100%;">
							<a4j:region>
									<table width="340px" border="0" align="right">
										<tr>
											<td>
												<h:graphicImage url="/images/page/page-first-disabled.gif" rendered="#{PersonMsgUserBean.curpage=='1'?'true':'false'}"></h:graphicImage>
												<a4j:commandButton status="normalStatus" action="#{PersonMsgUserBean.firstPage}" data="#{PersonMsgUserBean.msg}" reRender="pgData" oncomplete="pagingFinish(data);"
												image="/images/page/page-first.gif" style="border:0" title="第一页" rendered="#{PersonMsgUserBean.curpage=='1'?'false':'true'}"/>
											</td>
											<td>
												<h:graphicImage url="/images/page/page-prev-disabled.gif" rendered="#{PersonMsgUserBean.curpage=='1'?'true':'false'}"></h:graphicImage>
												<a4j:commandButton status="normalStatus" action="#{PersonMsgUserBean.proPage}" data="#{PersonMsgUserBean.msg}" reRender="pgData"
												image="/images/page/page-prev.gif" rendered="#{PersonMsgUserBean.curpage=='1'?'false':'true'}" oncomplete="pagingFinish(data);" style="border:0" title="上一页" />
											</td>
											<td align="center">
												<h:outputText value="Page"/>
												<input value="#{PersonMsgUserBean.curpage}" onkeypress="if(pageKeyDown(this.value))return false;" size="4" style="text-align:center;font-size:12px;border:1px solid #cccccc;"/>
												<h:outputText value="of #{PersonMsgUserBean.totalpage}"/>
											</td> 
											<td>
												<h:graphicImage url="/images/page/page-next-disabled.gif" rendered="#{PersonMsgUserBean.curpage&gt;=PersonMsgUserBean.totalpage?'true':'false'}"></h:graphicImage>
												<a4j:commandButton status="normalStatus" image="/images/page/page-next.gif" data="#{PersonMsgUserBean.msg}" reRender="pgData" oncomplete="pagingFinish(data);" 
												style="border:0" title="下一页" action="#{PersonMsgUserBean.nextPage}" rendered="#{PersonMsgUserBean.curpage&gt;=PersonMsgUserBean.totalpage?'false':'true'}"/>
											</td>
											<td>
												<h:graphicImage url="/images/page/page-last-disabled.gif" rendered="#{PersonMsgUserBean.curpage==PersonMsgUserBean.totalpage?'true':'false'}"></h:graphicImage>
												<a4j:commandButton status="normalStatus" image="/images/page/page-last.gif" data="#{PersonMsgUserBean.msg}" reRender="pgData" oncomplete="pagingFinish(data);" 
												style="border:0" title="最后一页" action="#{PersonMsgUserBean.lastPage}" rendered="#{PersonMsgUserBean.curpage==PersonMsgUserBean.totalpage?'false':'true'}"/>
											</td>
											<td>
												总记录数：#{PersonMsgUserBean.totalrecord}条
											</td>
										</tr>
									</table>
							</a4j:region>
						</div>
			</h:panelGroup>
			<ui:include src="/submitStatus.xhtml" />
		</h:form>
	</f:view>
</body>
</html>